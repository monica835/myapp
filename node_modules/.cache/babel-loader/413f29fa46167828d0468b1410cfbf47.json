{"remainingRequest":"D:\\web3\\tutorial\\tutorial\\node_modules\\babel-loader\\lib\\index.js!D:\\web3\\tutorial\\tutorial\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\web3\\tutorial\\tutorial\\src\\api.js","dependencies":[{"path":"D:\\web3\\tutorial\\tutorial\\src\\api.js","mtime":1569765220977},{"path":"D:\\web3\\tutorial\\tutorial\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1569724981899},{"path":"D:\\web3\\tutorial\\tutorial\\node_modules\\babel-loader\\lib\\index.js","mtime":1569724978516},{"path":"D:\\web3\\tutorial\\tutorial\\node_modules\\eslint-loader\\index.js","mtime":1569725014447}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\web3\\\\tutorial\\\\tutorial\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport Vue from 'vue';\nimport axios from 'axios';\nvar client = axios.create({\n  baseURL: 'http://localhost:8081/',\n  json: true\n});\nexport default {\n  execute: function () {\n    var _execute = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee(method, resource, data) {\n      var accessToken;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Vue.prototype.$auth.getAccessToken();\n\n            case 2:\n              accessToken = _context.sent;\n              return _context.abrupt(\"return\", client({\n                method: method,\n                url: resource,\n                data: data,\n                headers: {\n                  Authorization: \"Bearer \".concat(accessToken)\n                }\n              }).then(function (req) {\n                return req.data;\n              }));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function execute(_x, _x2, _x3) {\n      return _execute.apply(this, arguments);\n    }\n\n    return execute;\n  }(),\n  getPosts: function getPosts() {\n    return this.execute('get', '/posts');\n  },\n  getPost: function getPost(id) {\n    return this.execute('get', \"/posts/\".concat(id));\n  },\n  createPost: function createPost(data) {\n    return this.execute('post', '/posts', data);\n  },\n  updatePost: function updatePost(id, data) {\n    return this.execute('put', \"/posts/\".concat(id), data);\n  },\n  deletePost: function deletePost(id) {\n    return this.execute('delete', \"/posts/\".concat(id));\n  }\n};",{"version":3,"sources":["D:\\web3\\tutorial\\tutorial\\src\\api.js"],"names":["Vue","axios","client","create","baseURL","json","execute","method","resource","data","prototype","$auth","getAccessToken","accessToken","url","headers","Authorization","then","req","getPosts","getPost","id","createPost","updatePost","deletePost"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,MAAM,GAAGD,KAAK,CAACE,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAE,wBADiB;AAE1BC,EAAAA,IAAI,EAAE;AAFoB,CAAb,CAAf;AAKA,eAAe;AACPC,EAAAA,OADO;AAAA;AAAA;AAAA,6CACEC,MADF,EACUC,QADV,EACoBC,IADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGaT,GAAG,CAACU,SAAJ,CAAcC,KAAd,CAAoBC,cAApB,EAHb;;AAAA;AAGPC,cAAAA,WAHO;AAAA,+CAIJX,MAAM,CAAC;AACZK,gBAAAA,MAAM,EAANA,MADY;AAEZO,gBAAAA,GAAG,EAAEN,QAFO;AAGZC,gBAAAA,IAAI,EAAJA,IAHY;AAIZM,gBAAAA,OAAO,EAAE;AACPC,kBAAAA,aAAa,mBAAYH,WAAZ;AADN;AAJG,eAAD,CAAN,CAOJI,IAPI,CAOC,UAAAC,GAAG,EAAI;AACb,uBAAOA,GAAG,CAACT,IAAX;AACD,eATM,CAJI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAebU,EAAAA,QAfa,sBAeD;AACV,WAAO,KAAKb,OAAL,CAAa,KAAb,EAAoB,QAApB,CAAP;AACD,GAjBY;AAkBbc,EAAAA,OAlBa,mBAkBJC,EAlBI,EAkBA;AACX,WAAO,KAAKf,OAAL,CAAa,KAAb,mBAA8Be,EAA9B,EAAP;AACD,GApBY;AAqBbC,EAAAA,UArBa,sBAqBDb,IArBC,EAqBK;AAChB,WAAO,KAAKH,OAAL,CAAa,MAAb,EAAqB,QAArB,EAA+BG,IAA/B,CAAP;AACD,GAvBY;AAwBbc,EAAAA,UAxBa,sBAwBDF,EAxBC,EAwBGZ,IAxBH,EAwBS;AACpB,WAAO,KAAKH,OAAL,CAAa,KAAb,mBAA8Be,EAA9B,GAAoCZ,IAApC,CAAP;AACD,GA1BY;AA2Bbe,EAAAA,UA3Ba,sBA2BDH,EA3BC,EA2BG;AACd,WAAO,KAAKf,OAAL,CAAa,QAAb,mBAAiCe,EAAjC,EAAP;AACD;AA7BY,CAAf","sourcesContent":["import Vue from 'vue'\r\nimport axios from 'axios'\r\n\r\nconst client = axios.create({\r\n  baseURL: 'http://localhost:8081/',\r\n  json: true\r\n})\r\n\r\nexport default {\r\n  async execute (method, resource, data) {\r\n    // inject the accessToken for each request\r\n    let accessToken = await Vue.prototype.$auth.getAccessToken()\r\n    return client({\r\n      method,\r\n      url: resource,\r\n      data,\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`\r\n      }\r\n    }).then(req => {\r\n      return req.data\r\n    })\r\n  },\r\n  getPosts () {\r\n    return this.execute('get', '/posts')\r\n  },\r\n  getPost (id) {\r\n    return this.execute('get', `/posts/${id}`)\r\n  },\r\n  createPost (data) {\r\n    return this.execute('post', '/posts', data)\r\n  },\r\n  updatePost (id, data) {\r\n    return this.execute('put', `/posts/${id}`, data)\r\n  },\r\n  deletePost (id) {\r\n    return this.execute('delete', `/posts/${id}`)\r\n  }\r\n}"]}]}